<%- include ('../../partials/header.ejs') %>
<%- include ('../../partials/navbar.ejs') %>
<body>
    <div class="container">
            <hr>
            <div class="card">
                <div class="card-header">
                    <h2>Edição de Categoria</h2>
                </div>
                
                <div class="card-body">
                    <form action="/categories/update" method="post" onsubmit="updateConfirmation(event, this)">
                        <label for="oldTitle">Título atual</label>
                        <input type="text" class="form-control" name="oldTitle" value="<%=category.title %>" readonly>
                        <br>
                        <input type="hidden" name="id" value="<%= category.id %>">
                        <label for="title">Novo título</label>
                        <input type="text" class="form-control" name="title" placeholder="Defina o novo título da categoria">
                        <br>
                        <button class="btn btn-success">Atualizar</button>
                    </form>
                </div>
            </div>
    </div> 
    
</body>

<%- include ('../../partials/footer.ejs') %>
<script>
    function updateConfirmation(event, form){
        event.preventDefault();
        var response = confirm("Tem certeza que deseja atualizar este item?")
        if(response){
            form.submit();
        }

    }
</script>